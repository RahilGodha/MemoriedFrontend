{"ast":null,"code":"import _toConsumableArray from\"D:/Coding/Projects/my-memories/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Coding/Projects/my-memories/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Container,Grow,Grid,Paper,AppBar,TextField,Button}from'@material-ui/core';import Posts from'../Posts/Posts';import Form from'../Form/Form';import{useState,useEffect}from'react';import{useDispatch}from'react-redux';import{getPosts,getPostsBySearch}from'../../actions/posts';import Pagination from'../Pagination';import{useHistory,useLocation}from'react-router-dom';import ChipInput from'material-ui-chip-input';import useStyles from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useQuery(){return new URLSearchParams(useLocation().search);}var Home=function Home(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentId=_useState2[0],setCurrentId=_useState2[1];var dispatch=useDispatch();var query=useQuery();var history=useHistory();var page=query.get('page')||1;var searchQuery=query.get('searchQuery');var classes=useStyles();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var searchPost=function searchPost(){if(search.trim()||tags){dispatch(getPostsBySearch({search:search,tags:tags.join(',')}));history.push(\"/posts/search?searchQuery=\".concat(search||'none',\"&tags=\").concat(tags.join(',')));}else{history.push('/');}};var handleKeyPress=function handleKeyPress(e){if(e.keyCode===13){searchPost();}};var handleAdd=function handleAdd(tag){return setTags([].concat(_toConsumableArray(tags),[tag]));};var handleDelete=function handleDelete(tagToDelete){return setTags(tags.filter(function(tags){return tags!==tagToDelete;}));};return/*#__PURE__*/_jsx(Grow,{in:true,children:/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-between\",alignItems:\"stretch\",spacing:3,className:classes.gridContainter,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:9,children:/*#__PURE__*/_jsx(Posts,{setCurrentId:setCurrentId})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:3,children:[/*#__PURE__*/_jsxs(AppBar,{className:classes.appBarSearch,position:\"static\",color:\"inherit\",children:[/*#__PURE__*/_jsx(TextField,{name:\"Search\",variant:\"outlined\",label:\"Search Memories\",fullWidth:true,value:search,onKeyPress:handleKeyPress,onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/_jsx(ChipInput,{style:{margin:'10px 0'},value:tags,onAdd:handleAdd,onDelete:handleDelete,label:\"Search Tags\",variant:\"outlined\"}),/*#__PURE__*/_jsx(Button,{onClick:searchPost,className:classes.searchButton,variant:\"contained\",color:\"primary\",children:\" Search \"})]}),/*#__PURE__*/_jsx(Form,{currentId:currentId,setCurrentId:setCurrentId}),/*#__PURE__*/_jsx(Paper,{elevation:6,className:classes.pagination,children:/*#__PURE__*/_jsx(Pagination,{page:page})})]})]})})});};export default Home;","map":{"version":3,"names":["React","Container","Grow","Grid","Paper","AppBar","TextField","Button","Posts","Form","useState","useEffect","useDispatch","getPosts","getPostsBySearch","Pagination","useHistory","useLocation","ChipInput","useStyles","jsx","_jsx","jsxs","_jsxs","useQuery","URLSearchParams","search","Home","_useState","_useState2","_slicedToArray","currentId","setCurrentId","dispatch","query","history","page","get","searchQuery","classes","_useState3","_useState4","setSearch","_useState5","_useState6","tags","setTags","searchPost","trim","join","push","concat","handleKeyPress","e","keyCode","handleAdd","tag","_toConsumableArray","handleDelete","tagToDelete","filter","in","children","maxWidth","container","justifyContent","alignItems","spacing","className","gridContainter","item","xs","sm","md","appBarSearch","position","color","name","variant","label","fullWidth","value","onKeyPress","onChange","target","style","margin","onAdd","onDelete","onClick","searchButton","elevation","pagination"],"sources":["D:/Coding/Projects/my-memories/client/src/Components/Home/Home.js"],"sourcesContent":["import React from 'react'\r\nimport { Container, Grow, Grid, Paper, AppBar, TextField, Button } from '@material-ui/core';\r\nimport Posts from '../Posts/Posts';\r\nimport Form from '../Form/Form';\r\nimport { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getPosts, getPostsBySearch } from '../../actions/posts';\r\nimport Pagination from '../Pagination';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport ChipInput from 'material-ui-chip-input';\r\nimport useStyles from './styles';\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search)\r\n}\r\n\r\nconst Home = () => {\r\n    const [currentId, setCurrentId] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const query = useQuery();\r\n    const history = useHistory();\r\n    const page = query.get('page') || 1;\r\n    const searchQuery = query.get('searchQuery');\r\n    const classes = useStyles();\r\n    const [search, setSearch] = useState('');\r\n    const [tags, setTags] = useState([]);\r\n\r\n    const searchPost = () => {\r\n        if (search.trim() || tags) {\r\n            dispatch(getPostsBySearch({ search, tags: tags.join(',') }));\r\n            history.push(`/posts/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`);\r\n        } else {\r\n            history.push('/')\r\n        }\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.keyCode === 13) {\r\n            searchPost()\r\n        }\r\n    };\r\n\r\n    const handleAdd = (tag) => setTags([...tags, tag]);\r\n    const handleDelete = (tagToDelete) => setTags(tags.filter((tags) => tags !== tagToDelete));\r\n\r\n\r\n    return (\r\n        <Grow in>\r\n            <Container maxWidth='xl'>\r\n                <Grid container justifyContent='space-between' alignItems='stretch' spacing={3} className={classes.gridContainter}>\r\n                    <Grid item xs={12} sm={6} md={9}>\r\n                        <Posts setCurrentId={setCurrentId} />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={3}>\r\n                        <AppBar className={classes.appBarSearch} position='static' color='inherit'>\r\n                            <TextField name=\"Search\" variant='outlined' label=\"Search Memories\" fullWidth value={search} onKeyPress={handleKeyPress} onChange={(e) => setSearch(e.target.value)} />\r\n                            <ChipInput style={{ margin: '10px 0' }} value={tags} onAdd={handleAdd} onDelete={handleDelete} label='Search Tags' variant='outlined' />\r\n                            <Button onClick={searchPost} className={classes.searchButton} variant='contained' color='primary'> Search </Button>\r\n                        </AppBar>\r\n                        <Form currentId={currentId} setCurrentId={setCurrentId} />\r\n\r\n                        <Paper elevation={6} className={classes.pagination}>\r\n                            <Pagination page={page} />\r\n                        </Paper>\r\n\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </Grow>\r\n    )\r\n}\r\n\r\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}