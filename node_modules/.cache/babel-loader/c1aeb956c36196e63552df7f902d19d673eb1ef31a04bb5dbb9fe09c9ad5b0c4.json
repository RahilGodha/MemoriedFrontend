{"ast":null,"code":"import _regeneratorRuntime from\"D:/Coding/Projects/my-memories/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Coding/Projects/my-memories/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import*as api from'../api';import{FETCH_BY_SEARCH,START_LOADING,END_LOADING,FETCH_ALL,CREATE,UPDATE,DELETE,LIKE,FETCH_POST}from'../constants/actionTypes';export var getPost=function getPost(id){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var _yield$api$fetchPost,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:START_LOADING});_context.next=4;return api.fetchPost(id);case 4:_yield$api$fetchPost=_context.sent;data=_yield$api$fetchPost.data;// console.log(data);\ndispatch({type:FETCH_POST,payload:data});dispatch({type:END_LOADING});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getPosts=function getPosts(page){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var _yield$api$fetchPosts,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:START_LOADING});_context2.next=4;return api.fetchPosts(page);case 4:_yield$api$fetchPosts=_context2.sent;data=_yield$api$fetchPosts.data;// console.log(data);\ndispatch({type:FETCH_ALL,payload:data});dispatch({type:END_LOADING});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.message);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getPostsBySearch=function getPostsBySearch(searchQuery){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var _yield$api$fetchPosts2,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:START_LOADING});_context3.next=4;return api.fetchPostsbySearch(searchQuery);case 4:_yield$api$fetchPosts2=_context3.sent;data=_yield$api$fetchPosts2.data.data;dispatch({type:FETCH_BY_SEARCH,payload:data});dispatch({type:END_LOADING});_context3.next=12;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);case 12:case\"end\":return _context3.stop();}},_callee3,null,[[0,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var createPost=function createPost(post){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var _yield$api$createPost,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:START_LOADING});_context4.next=4;return api.createPost(post);case 4:_yield$api$createPost=_context4.sent;data=_yield$api$createPost.data;console.log(data);// console.log(data);\ndispatch({type:CREATE,payload:data});dispatch({type:END_LOADING});_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 14:case\"end\":return _context4.stop();}},_callee4,null,[[0,11]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var updatePost=function updatePost(id,post){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){var _yield$api$updatePost,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return api.updatePost(id,post);case 3:_yield$api$updatePost=_context5.sent;data=_yield$api$updatePost.data;dispatch({type:UPDATE,payload:data});_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0.message);case 11:case\"end\":return _context5.stop();}},_callee5,null,[[0,8]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var deletePost=function deletePost(id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dispatch){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return api.deletePost(id);case 3:dispatch({type:DELETE,payload:id});_context6.next=9;break;case 6:_context6.prev=6;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 9:case\"end\":return _context6.stop();}},_callee6,null,[[0,6]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var likePost=function likePost(id){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(dispatch){var _yield$api$likePost,data;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return api.likePost(id);case 3:_yield$api$likePost=_context7.sent;data=_yield$api$likePost.data;dispatch({type:LIKE,payload:data});_context7.next=11;break;case 8:_context7.prev=8;_context7.t0=_context7[\"catch\"](0);console.log(_context7.t0);case 11:case\"end\":return _context7.stop();}},_callee7,null,[[0,8]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};","map":{"version":3,"names":["api","FETCH_BY_SEARCH","START_LOADING","END_LOADING","FETCH_ALL","CREATE","UPDATE","DELETE","LIKE","FETCH_POST","getPost","id","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","_yield$api$fetchPost","data","wrap","_callee$","_context","prev","next","type","fetchPost","sent","payload","t0","console","log","message","stop","_x","apply","arguments","getPosts","page","_ref2","_callee2","_yield$api$fetchPosts","_callee2$","_context2","fetchPosts","_x2","getPostsBySearch","searchQuery","_ref3","_callee3","_yield$api$fetchPosts2","_callee3$","_context3","fetchPostsbySearch","_x3","createPost","post","_ref4","_callee4","_yield$api$createPost","_callee4$","_context4","_x4","updatePost","_ref5","_callee5","_yield$api$updatePost","_callee5$","_context5","_x5","deletePost","_ref6","_callee6","_callee6$","_context6","_x6","likePost","_ref7","_callee7","_yield$api$likePost","_callee7$","_context7","_x7"],"sources":["D:/Coding/Projects/my-memories/client/src/actions/posts.js"],"sourcesContent":["import * as api from '../api';\r\nimport { FETCH_BY_SEARCH,START_LOADING, END_LOADING, FETCH_ALL, CREATE, UPDATE, DELETE, LIKE, FETCH_POST } from '../constants/actionTypes';\r\n\r\n\r\nexport const getPost = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING});\r\n        const { data } = await api.fetchPost(id);\r\n        // console.log(data);\r\n\r\n        dispatch({ type: FETCH_POST, payload: data });\r\n\r\n        dispatch({type:END_LOADING});\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n}\r\n\r\nexport const getPosts = (page) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING});\r\n        const { data } = await api.fetchPosts(page);\r\n        // console.log(data);\r\n\r\n        dispatch({ type: FETCH_ALL, payload: data });\r\n\r\n        dispatch({type:END_LOADING});\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n}\r\n\r\nexport const getPostsBySearch = (searchQuery) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING});\r\n        const { data: { data } } = await api.fetchPostsbySearch(searchQuery);\r\n        dispatch({ type: FETCH_BY_SEARCH, payload: data})\r\n        dispatch({type:END_LOADING});\r\n    } catch (error) {\r\n\r\n    }\r\n}\r\n\r\nexport const createPost = (post) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: START_LOADING});\r\n        const { data } = await api.createPost(post);\r\n        console.log(data);\r\n        // console.log(data);\r\n        dispatch({ type: CREATE, payload: data });\r\n        dispatch({type:END_LOADING});\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const updatePost = (id, post) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.updatePost(id, post);\r\n\r\n\r\n        dispatch({ type: UPDATE, payload: data });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n}\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n    try {\r\n        await api.deletePost(id);\r\n        dispatch({ type: DELETE, payload: id })\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const likePost = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.likePost(id);\r\n        dispatch({ type: LIKE, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}"],"mappings":"sQAAA,MAAO,GAAK,CAAAA,GAAG,KAAM,QAAQ,CAC7B,OAASC,eAAe,CAACC,aAAa,CAAEC,WAAW,CAAEC,SAAS,CAAEC,MAAM,CAAEC,MAAM,CAAEC,MAAM,CAAEC,IAAI,CAAEC,UAAU,KAAQ,0BAA0B,CAG1I,MAAO,IAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,EAAE,oCAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAC,QAAOC,QAAQ,MAAAC,oBAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEtCN,QAAQ,CAAC,CAACQ,IAAI,CAAEvB,aAAa,CAAC,CAAC,CAACoB,QAAA,CAAAE,IAAA,SACT,CAAAxB,GAAG,CAAC0B,SAAS,CAACf,EAAE,CAAC,QAAAO,oBAAA,CAAAI,QAAA,CAAAK,IAAA,CAAhCR,IAAI,CAAAD,oBAAA,CAAJC,IAAI,CACZ;AAEAF,QAAQ,CAAC,CAAEQ,IAAI,CAAEhB,UAAU,CAAEmB,OAAO,CAAET,IAAK,CAAC,CAAC,CAE7CF,QAAQ,CAAC,CAACQ,IAAI,CAACtB,WAAW,CAAC,CAAC,CAACmB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAE7BQ,OAAO,CAACC,GAAG,CAACT,QAAA,CAAAO,EAAA,CAAMG,OAAO,CAAC,CAAC,yBAAAV,QAAA,CAAAW,IAAA,MAAAjB,OAAA,iBAElC,mBAAAkB,EAAA,SAAAtB,IAAA,CAAAuB,KAAA,MAAAC,SAAA,UAED,MAAO,IAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,IAAI,oCAAAC,KAAA,CAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAyB,SAAOvB,QAAQ,MAAAwB,qBAAA,CAAAtB,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAsB,UAAAC,SAAA,iBAAAA,SAAA,CAAApB,IAAA,CAAAoB,SAAA,CAAAnB,IAAA,SAAAmB,SAAA,CAAApB,IAAA,GAEzCN,QAAQ,CAAC,CAACQ,IAAI,CAAEvB,aAAa,CAAC,CAAC,CAACyC,SAAA,CAAAnB,IAAA,SACT,CAAAxB,GAAG,CAAC4C,UAAU,CAACN,IAAI,CAAC,QAAAG,qBAAA,CAAAE,SAAA,CAAAhB,IAAA,CAAnCR,IAAI,CAAAsB,qBAAA,CAAJtB,IAAI,CACZ;AAEAF,QAAQ,CAAC,CAAEQ,IAAI,CAAErB,SAAS,CAAEwB,OAAO,CAAET,IAAK,CAAC,CAAC,CAE5CF,QAAQ,CAAC,CAACQ,IAAI,CAACtB,WAAW,CAAC,CAAC,CAACwC,SAAA,CAAAnB,IAAA,kBAAAmB,SAAA,CAAApB,IAAA,IAAAoB,SAAA,CAAAd,EAAA,CAAAc,SAAA,aAE7Bb,OAAO,CAACC,GAAG,CAACY,SAAA,CAAAd,EAAA,CAAMG,OAAO,CAAC,CAAC,yBAAAW,SAAA,CAAAV,IAAA,MAAAO,QAAA,iBAElC,mBAAAK,GAAA,SAAAN,KAAA,CAAAJ,KAAA,MAAAC,SAAA,UAED,MAAO,IAAM,CAAAU,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,WAAW,oCAAAC,KAAA,CAAAnC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAkC,SAAOhC,QAAQ,MAAAiC,sBAAA,CAAA/B,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAA+B,UAAAC,SAAA,iBAAAA,SAAA,CAAA7B,IAAA,CAAA6B,SAAA,CAAA5B,IAAA,SAAA4B,SAAA,CAAA7B,IAAA,GAExDN,QAAQ,CAAC,CAACQ,IAAI,CAAEvB,aAAa,CAAC,CAAC,CAACkD,SAAA,CAAA5B,IAAA,SACC,CAAAxB,GAAG,CAACqD,kBAAkB,CAACN,WAAW,CAAC,QAAAG,sBAAA,CAAAE,SAAA,CAAAzB,IAAA,CAApDR,IAAI,CAAA+B,sBAAA,CAAZ/B,IAAI,CAAIA,IAAI,CACpBF,QAAQ,CAAC,CAAEQ,IAAI,CAAExB,eAAe,CAAE2B,OAAO,CAAET,IAAI,CAAC,CAAC,CACjDF,QAAQ,CAAC,CAACQ,IAAI,CAACtB,WAAW,CAAC,CAAC,CAACiD,SAAA,CAAA5B,IAAA,kBAAA4B,SAAA,CAAA7B,IAAA,IAAA6B,SAAA,CAAAvB,EAAA,CAAAuB,SAAA,sCAAAA,SAAA,CAAAnB,IAAA,MAAAgB,QAAA,iBAIpC,mBAAAK,GAAA,SAAAN,KAAA,CAAAb,KAAA,MAAAC,SAAA,UAED,MAAO,IAAM,CAAAmB,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,IAAI,oCAAAC,KAAA,CAAA5C,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAA2C,SAAOzC,QAAQ,MAAA0C,qBAAA,CAAAxC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAwC,UAAAC,SAAA,iBAAAA,SAAA,CAAAtC,IAAA,CAAAsC,SAAA,CAAArC,IAAA,SAAAqC,SAAA,CAAAtC,IAAA,GAE3CN,QAAQ,CAAC,CAACQ,IAAI,CAAEvB,aAAa,CAAC,CAAC,CAAC2D,SAAA,CAAArC,IAAA,SACT,CAAAxB,GAAG,CAACuD,UAAU,CAACC,IAAI,CAAC,QAAAG,qBAAA,CAAAE,SAAA,CAAAlC,IAAA,CAAnCR,IAAI,CAAAwC,qBAAA,CAAJxC,IAAI,CACZW,OAAO,CAACC,GAAG,CAACZ,IAAI,CAAC,CACjB;AACAF,QAAQ,CAAC,CAAEQ,IAAI,CAAEpB,MAAM,CAAEuB,OAAO,CAAET,IAAK,CAAC,CAAC,CACzCF,QAAQ,CAAC,CAACQ,IAAI,CAACtB,WAAW,CAAC,CAAC,CAAC0D,SAAA,CAAArC,IAAA,kBAAAqC,SAAA,CAAAtC,IAAA,IAAAsC,SAAA,CAAAhC,EAAA,CAAAgC,SAAA,aAE7B/B,OAAO,CAACC,GAAG,CAAA8B,SAAA,CAAAhC,EAAM,CAAC,CAAC,yBAAAgC,SAAA,CAAA5B,IAAA,MAAAyB,QAAA,iBAE1B,mBAAAI,GAAA,SAAAL,KAAA,CAAAtB,KAAA,MAAAC,SAAA,UAED,MAAO,IAAM,CAAA2B,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIpD,EAAE,CAAE6C,IAAI,oCAAAQ,KAAA,CAAAnD,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAkD,SAAOhD,QAAQ,MAAAiD,qBAAA,CAAA/C,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAA+C,UAAAC,SAAA,iBAAAA,SAAA,CAAA7C,IAAA,CAAA6C,SAAA,CAAA5C,IAAA,SAAA4C,SAAA,CAAA7C,IAAA,GAAA6C,SAAA,CAAA5C,IAAA,SAExB,CAAAxB,GAAG,CAAC+D,UAAU,CAACpD,EAAE,CAAE6C,IAAI,CAAC,QAAAU,qBAAA,CAAAE,SAAA,CAAAzC,IAAA,CAAvCR,IAAI,CAAA+C,qBAAA,CAAJ/C,IAAI,CAGZF,QAAQ,CAAC,CAAEQ,IAAI,CAAEnB,MAAM,CAAEsB,OAAO,CAAET,IAAK,CAAC,CAAC,CAACiD,SAAA,CAAA5C,IAAA,iBAAA4C,SAAA,CAAA7C,IAAA,GAAA6C,SAAA,CAAAvC,EAAA,CAAAuC,SAAA,aAE1CtC,OAAO,CAACC,GAAG,CAACqC,SAAA,CAAAvC,EAAA,CAAMG,OAAO,CAAC,CAAC,yBAAAoC,SAAA,CAAAnC,IAAA,MAAAgC,QAAA,gBAElC,mBAAAI,GAAA,SAAAL,KAAA,CAAA7B,KAAA,MAAAC,SAAA,UAED,MAAO,IAAM,CAAAkC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAI3D,EAAE,oCAAA4D,KAAA,CAAA1D,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAyD,SAAOvD,QAAQ,SAAAH,mBAAA,GAAAM,IAAA,UAAAqD,UAAAC,SAAA,iBAAAA,SAAA,CAAAnD,IAAA,CAAAmD,SAAA,CAAAlD,IAAA,SAAAkD,SAAA,CAAAnD,IAAA,GAAAmD,SAAA,CAAAlD,IAAA,SAEnC,CAAAxB,GAAG,CAACsE,UAAU,CAAC3D,EAAE,CAAC,QACxBM,QAAQ,CAAC,CAAEQ,IAAI,CAAElB,MAAM,CAAEqB,OAAO,CAAEjB,EAAG,CAAC,CAAC,CAAA+D,SAAA,CAAAlD,IAAA,gBAAAkD,SAAA,CAAAnD,IAAA,GAAAmD,SAAA,CAAA7C,EAAA,CAAA6C,SAAA,aAEvC5C,OAAO,CAACC,GAAG,CAAA2C,SAAA,CAAA7C,EAAM,CAAC,CAAC,wBAAA6C,SAAA,CAAAzC,IAAA,MAAAuC,QAAA,gBAE1B,mBAAAG,GAAA,SAAAJ,KAAA,CAAApC,KAAA,MAAAC,SAAA,UAED,MAAO,IAAM,CAAAwC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIjE,EAAE,oCAAAkE,KAAA,CAAAhE,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAA+D,SAAO7D,QAAQ,MAAA8D,mBAAA,CAAA5D,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAA4D,UAAAC,SAAA,iBAAAA,SAAA,CAAA1D,IAAA,CAAA0D,SAAA,CAAAzD,IAAA,SAAAyD,SAAA,CAAA1D,IAAA,GAAA0D,SAAA,CAAAzD,IAAA,SAEhB,CAAAxB,GAAG,CAAC4E,QAAQ,CAACjE,EAAE,CAAC,QAAAoE,mBAAA,CAAAE,SAAA,CAAAtD,IAAA,CAA/BR,IAAI,CAAA4D,mBAAA,CAAJ5D,IAAI,CACZF,QAAQ,CAAC,CAAEQ,IAAI,CAAEjB,IAAI,CAAEoB,OAAO,CAAET,IAAK,CAAC,CAAC,CAAC8D,SAAA,CAAAzD,IAAA,iBAAAyD,SAAA,CAAA1D,IAAA,GAAA0D,SAAA,CAAApD,EAAA,CAAAoD,SAAA,aAExCnD,OAAO,CAACC,GAAG,CAAAkD,SAAA,CAAApD,EAAM,CAAC,CAAC,yBAAAoD,SAAA,CAAAhD,IAAA,MAAA6C,QAAA,gBAE1B,mBAAAI,GAAA,SAAAL,KAAA,CAAA1C,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}